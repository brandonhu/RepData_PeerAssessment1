{
    "contents" : "Reproducible Research: Peer Assessment 1\n====================================================\nCreated by Brandon Hu on May 17, 2015\n\n## Basic Configurtions \n```{r}\necho = TRUE #Allow to read the code\noptions(scipen = 1) #Turn off scientific notations for numbers\nknitr::opts_chunk$set(fig.width=12, fig.height=8, warning=FALSE, message=FALSE) #Turn off any warning messages and set the figure width and height\n```\n\n## Loading and preprocessing the data\n```{r}\nunzip(\"activity.zip\") #Unzip the data file\ndata <- read.csv(\"activity.csv\", colClasses = c(\"integer\", \"Date\", \"factor\")) #read the data and cast each column to specific the data type\ndata$month <- as.numeric(format(data$date, \"%m\")) # to display data to split into months for ggplot usage later in the code\nnoNA <- na.omit(data) #create new data set with no NA data \nrownames(noNA) <- 1:nrow(noNA) #set the row names\nhead(noNA) #retrieve the first 6 rows\ndim(noNA) #print out the dimension\nlibrary(ggplot2) #load the ggplot2 package\n```\n\n## What is mean total number of steps taken per day?\n1. Calculate the total number of steps taken per day\n```{r}\ntotalSteps <- aggregate(noNA$steps, list(Date = noNA$date), FUN = \"sum\")$x #sum the total no. of steps and assign to a variable\ntotalSteps\n```\n2. If you do not understand the difference between a histogram and a barplot, research the difference between them. Make a histogram of the total number of steps taken each day\n```{r}\nggplot(noNA, aes(date, steps)) + geom_bar(stat = \"identity\", colour = \"steelblue\", fill = \"steelblue\", width = 0.7) + facet_grid(. ~ month, scales = \"free\") + labs(title = \"Histogram of Total Number of Steps Taken Each Day\", x = \"Date\", y = \"Total number of steps\")\n```\n\n3. Calculate and report the mean and median of the total number of steps taken per day\n```{r}\nmean(totalSteps) #mean\nmedian(totalSteps) #median\n```\n\n## What is the average daily activity pattern?\n1. Make a time series plot (i.e. type = \"l\") of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all days (y-axis)\n```{r}\navgSteps <- aggregate(noNA$steps, list(interval = noNA$interval), FUN = \"mean\")\n#avg steps and assign to a variable\nnames(avgSteps)[2] <- \"average_steps\" #rename the colname x to average_steps\nggplot(avgSteps, aes(interval, average_steps)) + geom_line(color = \"steelblue\", size = 0.8) + labs(title = \"Time Series Plot of the 5-minute Interval\", x = \"5-minute intervals\", y = \"Average Number of Steps Taken\")\n```\n\n2. Which 5-minute interval, on average across all the days in the dataset, contains the maximum number of steps?\n```{r}\navgSteps[avgSteps$average_steps == max(avgSteps$average_steps),]\n```\n\n## Imputing missing values\n1. Calculate and report the total number of missing values in the dataset (i.e. the total number of rows with NAs)\n```{r}\nsum(is.na(data)) #get the total of the of NAs values in the data\n```\n\n2. Devise a strategy for filling in all of the missing values in the dataset. The strategy does not need to be sophisticated. For example, you could use the mean/median for that day, or the mean for that 5-minute interval, etc\n\nMy strategy is using the mean for that 5-minute interval to fill in the NA values\n\n3. Create a new dataset that is equal to the original dataset but with the missing data filled in.\n```{r}\nnewData <- data #clone the data\nfor (i in 1:nrow(newData)) \n{ \n    if (is.na(newData$steps[i]))\n    {\n        newData$steps[i] <- avgSteps[which(newData$interval[i] == avgSteps$interval), ]$average_steps\n    }\n}\n```\n\n4. Make a histogram of the total number of steps taken each day \n```{r}\nggplot(newData, aes(date, steps)) + geom_bar(stat = \"identity\", colour = \"steelblue\", fill = \"steelblue\", width = 0.7) + facet_grid(. ~ month, scales = \"free\") + labs(title = \"Histogram of Total Number of Steps Taken Each Day\", x = \"Date\", y = \"Total number of steps\")\n```\n\n* Calculate and report the new mean and median total number of steps taken per day.\n```{r}\n#sum the new data, total no. of steps and assign to a variable\nnewTotalSteps <- aggregate(newData$steps, list(Date = newData$date), FUN = \"sum\")$x\nnewMean <- mean(newTotalSteps)\nnewMedian <- median(newTotalSteps)\n```\n\nThe following result is the new mean value:\n```{r}\nnewMean\n```\n\nThe following result is the new median value:\n```{r}\nnewMedian\n```\n\n* Compute these values differ from the estimates from the first part of the assignment\n```{r}\noldMean <- mean(totalSteps) #old mean\noldMedian <- median(totalSteps) #median\nnewMean - oldMean\nnewMedian - oldMedian\n```\n\n* What is the impact of imputing missing data on the estimates of the total daily number of steps?\n\nFrom the above results, the following conclusion is drawn:\nThere is no impact to imputing missing data on mean value as the old mean equates to the new mean. However, the new median of total daily number of steps is greater than the old median.\n\n## Are there differences in activity patterns between weekdays and weekends?\n\n* Create a new factor variable in the datasets with 2 levels to indicate either is weekday or weekend\n```{r}\nnewData$day <- factor(format(newData$date, \"%A\")) #format into full weekday name in the current locale\nlevels(newData$day) <- list(weekday = c(\"Monday\", \"Tuesday\",\n                                             \"Wednesday\", \n                                             \"Thursday\", \"Friday\"),\n                                 weekend = c(\"Saturday\", \"Sunday\")) #replace the 'day' column into weekday and weekend instead of showing e.g. Monday.\nlevels(newData$day)\n```\n\n* Make a panel plot containing a time series plot (i.e. type = \"l\") of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all weekday days or weekend days (y-axis)\n```{r}\navgSteps <- aggregate(newData$steps, list(interval = newData$interval, days = newData$day), FUN = \"mean\")\n#avg steps and assign to a variable\nnames(avgSteps)[3] <- \"average_steps\" #rename the colname x to average_steps\nlibrary(lattice) #to plot the panel plot\nxyplot(avgSteps$average_steps ~ avgSteps$interval | avgSteps$days, \n       layout = c(1, 2), type = \"l\", \n       xlab = \"Interval\", ylab = \"Number of steps\")\n```",
    "created" : 1431782426922.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4112320234",
    "id" : "EE6713DE",
    "lastKnownWriteTime" : 1431849817,
    "path" : "C:/Users/brandonhu/Desktop/brandon/Course/Reproducible_Data/RepData_PeerAssessment1/PA1_template.Rmd",
    "project_path" : "PA1_template.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}